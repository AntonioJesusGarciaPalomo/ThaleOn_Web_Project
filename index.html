<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThaleOn AI Systems | Inteligencia Artificial, pensada racionalmente</title>
    <meta name="description"
        content="ThaleOn AI Systems LLC - Ingeniería de IA transparente, auditable y robusta. Soluciones basadas en rigor matemático.">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://thaleonai.com">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thaleonai.com">
    <meta property="og:title" content="ThaleOn AI Systems | Inteligencia Artificial, pensada racionalmente">
    <meta property="og:description"
        content="Ingeniería de IA transparente, auditable y robusta. Soluciones basadas en rigor matemático.">
    <meta property="og:image" content="https://thaleonai.com/assets/og-image.jpg">
    <meta property="og:locale" content="es_ES">

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://thaleonai.com">
    <meta name="twitter:title" content="ThaleOn AI Systems">
    <meta name="twitter:description" content="Ingeniería de IA transparente, auditable y robusta.">
    <meta name="twitter:image" content="https://thaleonai.com/assets/og-image.jpg">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">

    <!-- Preconnect para fonts (mejora rendimiento) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Fonts con preload para evitar bloqueo de render -->
    <link rel="preload"
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=IBM+Plex+Mono:wght@300;400;500&family=Inter:wght@300;400;500&display=swap"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link
            href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=IBM+Plex+Mono:wght@300;400;500&family=Inter:wght@300;400;500&display=swap"
            rel="stylesheet">
    </noscript>

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "ThaleOn AI Systems",
        "url": "https://thaleonai.com",
        "logo": "https://thaleonai.com/assets/images/brand/logo.png",
        "description": "Ingeniería de IA transparente, auditable y robusta. Soluciones basadas en rigor matemático.",
        "foundingDate": "2025",
        "sameAs": [
            "https://github.com/thaleon",
            "https://linkedin.com/company/thaleon",
            "https://x.com/thaleon"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "info@thaleonai.com",
            "contactType": "customer service"
        },
        "areaServed": "ES",
        "serviceType": ["Artificial Intelligence", "Machine Learning", "Consulting"]
    }
    </script>

    <!-- Critical CSS: Solo estilos necesarios para evitar FOUC -->
    <style>
        /* ============================================
           CRITICAL CSS - Carga inicial sin flash
           Estos estilos se aplican antes de cargar main.css
           ============================================ */

        /* Variables mínimas para el loader */
        :root {
            --color-bg: #0a0a0b;
            --color-gold: #c9a227;
            --color-border: rgba(255, 255, 255, 0.08);
            --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
            --duration-slower: 0.8s;
        }

        /* Reset mínimo crítico */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { font-size: 16px; }
        body {
            background-color: var(--color-bg);
            color: #fafafa;
            overflow-x: hidden;
        }

        /* Loader crítico - debe verse inmediatamente */
        .loader {
            position: fixed;
            inset: 0;
            background: var(--color-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100000;
            transition: opacity var(--duration-slower) var(--ease-out-expo),
                visibility var(--duration-slower);
        }
        .loader.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        .loader-content { text-align: center; }
        .loader-logo {
            width: 120px;
            height: 120px;
            margin-bottom: 24px;
            opacity: 0;
            animation: loaderFadeIn 0.6s ease forwards 0.2s;
            object-fit: contain;
        }
        .loader-line {
            width: 120px;
            height: 1px;
            background: var(--color-border);
            position: relative;
            overflow: hidden;
        }
        .loader-line::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 30%;
            background: var(--color-gold);
            animation: loaderProgress 1.5s var(--ease-out-expo) infinite;
        }
        @keyframes loaderFadeIn { to { opacity: 1; } }
        @keyframes loaderProgress { 0% { left: -30%; } 100% { left: 100%; } }

        /* Visually hidden - accesibilidad */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <!-- Skip Link - Accesibilidad -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>

    <!-- Loader -->
    <div class="loader" id="loader" role="status" aria-label="Cargando página">
        <div class="loader-content">
            <img src="assets/images/brand/logo.png" alt="" class="loader-logo" aria-hidden="true">
            <div class="loader-line" aria-hidden="true"></div>
            <span class="visually-hidden">Cargando...</span>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav" id="nav" role="navigation" aria-label="Navegación principal">
        <div class="container nav-inner">
            <a href="#" class="nav-logo" aria-label="ThaleOn AI Systems - Ir al inicio">
                <img src="assets/images/brand/logo.png" alt="ThaleOn Logo" width="70" height="70">
                <span class="nav-logo-text">ThaleOn AI Systems</span>
            </a>
            <ul class="nav-links">
                <li><a href="#manifest" class="nav-link">Manifiesto</a></li>
                <li><a href="#services" class="nav-link">Servicios</a></li>
                <li><a href="#academy" class="nav-link">Academia</a></li>
                <li><a href="#founder" class="nav-link">Fundadores</a></li>
            </ul>
            <a href="#contact" class="nav-cta">Contacto</a>
            <button class="nav-mobile-btn" id="mobileBtn" aria-label="Abrir menú de navegación" aria-expanded="false"
                aria-controls="mobileMenu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu" role="dialog" aria-modal="true" aria-hidden="true"
        aria-label="Menú de navegación">
        <a href="#manifest">Manifiesto</a>
        <a href="#services">Servicios</a>
        <a href="#academy">Academia</a>
        <a href="#founder">Fundador</a>
        <a href="#contact">Contacto</a>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Hero Section -->
        <section class="hero" id="hero" aria-labelledby="hero-title">
            <div class="hero-bg" aria-hidden="true">
                <canvas id="heroCanvas"></canvas>
                <div class="hero-gradient"></div>
            </div>
            <div class="container">
                <div class="hero-content">
                    <!-- Thales' Second Theorem Animation -->
                    <div class="hero-thales-container" aria-hidden="true">
                        <canvas id="thalesHeroCanvas"></canvas>
                    
                    </div>
                    <h1 class="hero-title" id="hero-title">Thale<span class="text-gold">O</span><span class="text-blue">n</span> AI</h1>
                    <p class="hero-subtitle">Inteligencia Artificial, pensada racionalmente.</p>
                    <p class="hero-quote" lang="en">A multitude of words is no proof of a prudent mind. <span
                            lang="es">— Tales de Mileto</span></p>
                    <div class="hero-cta">
                        <a href="#services" class="btn btn-primary">
                            Soluciones de Ingeniería
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                aria-hidden="true">
                                <path d="M5 12h14M12 5l7 7-7 7" />
                            </svg>
                        </a>
                        <a href="#academy" class="btn">
                            Academia Gratuita
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                aria-hidden="true">
                                <path
                                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="hero-scroll" aria-hidden="true">
                <span class="hero-scroll-text">Scroll</span>
                <div class="hero-scroll-line"></div>
            </div>
        </section>

        <!-- Manifest Section -->
        <section class="manifest" id="manifest" aria-labelledby="manifest-title">
            <div class="container">
                <div class="manifest-grid">
                    <div class="manifest-visual reveal" aria-hidden="true">
                        <div class="box-wrapper">
                            <div class="box black-box"></div>
                            <p class="box-label">Caja Negra</p>
                        </div>
                        <div class="box-wrapper">
                            <div class="box glass-box">
                                <div class="glass-content">
                                    ∇f(x)<br>
                                    W·x + b<br>
                                    σ(z)<br>
                                    ∂L/∂w
                                </div>
                            </div>
                            <p class="box-label">Caja de Cristal</p>
                        </div>
                    </div>
                    <div class="manifest-text">
                        <div class="section-header">
                            <div class="section-label">
                                <span class="label">Manifiesto</span>
                            </div>
                            <h2 class="section-title reveal reveal-delay-1" id="manifest-title">No vendemos
                                magia.<br>Construimos lógica.</h2>
                        </div>
                        <p class="reveal reveal-delay-2">
                            Aún no sabemos lo que es la <span class="highlight">"Inteligencia"</span> humana, pero sí
                            sabemos lo que es la <span class="highlight">racionalidad</span>.
                        </p>
                        <p class="reveal reveal-delay-3">
                            En un mercado saturado de <em>hype</em>, en ThaleOn aplicamos el rigor matemático para crear
                            sistemas de IA transparentes, auditables y robustos.
                        </p>
                        <blockquote class="manifest-quote reveal reveal-delay-4">
                            La diferencia entre un algoritmo que funciona y uno que entiendes es la diferencia entre
                            dependencia y dominio.
                        </blockquote>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section class="services" id="services" aria-labelledby="services-title">
            <div class="container">
                <div class="section-header">
                    <div class="section-label">
                        <span class="label">Servicios</span>
                    </div>
                    <h2 class="section-title reveal" id="services-title">Ingeniería & Soluciones</h2>
                    <p class="section-desc reveal reveal-delay-1">Matemáticas aplicadas con propósito. Cada proyecto
                        comienza con una pregunta: ¿qué problema real estamos resolviendo?</p>
                </div>
                <div class="services-grid">
                    <article class="service-card reveal reveal-delay-2">
                        <span class="service-index" aria-hidden="true">(01)</span>
                        <svg class="service-icon" viewBox="0 0 48 48" fill="none" stroke="currentColor"
                            stroke-width="1.5" aria-hidden="true" role="img">
                            <circle cx="24" cy="8" r="4" />
                            <circle cx="8" cy="24" r="4" />
                            <circle cx="40" cy="24" r="4" />
                            <circle cx="16" cy="40" r="4" />
                            <circle cx="32" cy="40" r="4" />
                            <line x1="24" y1="12" x2="12" y2="21" />
                            <line x1="24" y1="12" x2="36" y2="21" />
                            <line x1="12" y1="24" x2="28" y2="40" />
                            <line x1="36" y1="24" x2="20" y2="40" />
                            <line x1="20" y1="40" x2="28" y2="40" />
                        </svg>
                        <h3>Optimización & Investigación Operativa</h3>
                        <p>Matemáticas aplicadas para resolver problemas complejos de logística, planificación y
                            asignación de recursos.</p>
                        <div class="service-tags" aria-label="Tecnologías">
                            <span class="service-tag">Grafos</span>
                            <span class="service-tag">LP/MIP</span>
                            <span class="service-tag">Heurísticas</span>
                        </div>
                    </article>

                    <article class="service-card reveal reveal-delay-3">
                        <span class="service-index" aria-hidden="true">(02)</span>
                        <svg class="service-icon" viewBox="0 0 48 48" fill="none" stroke="currentColor"
                            stroke-width="1.5" aria-hidden="true" role="img">
                            <circle cx="8" cy="12" r="3" />
                            <circle cx="8" cy="24" r="3" />
                            <circle cx="8" cy="36" r="3" />
                            <circle cx="24" cy="16" r="3" />
                            <circle cx="24" cy="32" r="3" />
                            <circle cx="40" cy="24" r="3" />
                            <line x1="11" y1="12" x2="21" y2="16" />
                            <line x1="11" y1="24" x2="21" y2="16" />
                            <line x1="11" y1="24" x2="21" y2="32" />
                            <line x1="11" y1="36" x2="21" y2="32" />
                            <line x1="27" y1="16" x2="37" y2="24" />
                            <line x1="27" y1="32" x2="37" y2="24" />
                        </svg>
                        <h3>Machine Learning Riguroso</h3>
                        <p>Modelos discriminativos y generativos diseñados desde la honestidad epistémica. Sin
                            overfitting oculto.</p>
                        <div class="service-tags" aria-label="Tecnologías">
                            <span class="service-tag">Deep Learning</span>
                            <span class="service-tag">MLOps</span>
                            <span class="service-tag">Validación</span>
                        </div>
                    </article>

                    <article class="service-card reveal reveal-delay-4">
                        <span class="service-index" aria-hidden="true">(03)</span>
                        <svg class="service-icon" viewBox="0 0 48 48" fill="none" stroke="currentColor"
                            stroke-width="1.5" aria-hidden="true" role="img">
                            <circle cx="24" cy="24" r="18" />
                            <circle cx="24" cy="24" r="3" />
                            <path d="M24 9 L26 21 L24 24 L22 21 Z" fill="currentColor" />
                            <path d="M24 39 L26 27 L24 24 L22 27 Z" />
                            <line x1="24" y1="6" x2="24" y2="3" />
                            <line x1="24" y1="45" x2="24" y2="42" />
                            <line x1="6" y1="24" x2="3" y2="24" />
                            <line x1="45" y1="24" x2="42" y2="24" />
                        </svg>
                        <h3>Consultoría Estratégica</h3>
                        <p>Auditoría algorítmica y diseño de proyectos viables. Separamos la señal del ruido en el
                            ecosistema actual de IA.</p>
                        <div class="service-tags" aria-label="Tecnologías">
                            <span class="service-tag">Auditoría</span>
                            <span class="service-tag">Roadmap</span>
                            <span class="service-tag">Viabilidad</span>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Academy Section -->
        <section class="academy" id="academy" aria-labelledby="academy-title">
            <div class="academy-pattern" aria-hidden="true"></div>
            <div class="container">
                <div class="academy-header">
                    <div>
                        <div class="section-label">
                            <span class="label">Academia</span>
                        </div>
                        <h2 class="section-title reveal" id="academy-title">Desmitificando la IA</h2>
                        <p class="academy-tagline reveal reveal-delay-1">Formación gratuita, rigurosa y accesible.
                            Porque comprender la tecnología es el primer paso para no temerla.</p>
                    </div>
                    <a href="#" class="btn reveal reveal-delay-2">
                        Ver todo
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
                <div class="lessons-grid">
                    <a href="#" class="lesson-card reveal reveal-delay-2">
                        <div class="lesson-preview" aria-hidden="true">
                            <svg viewBox="0 0 200 140" fill="none">
                                <path d="M20 120 Q50 40 100 80 Q150 120 180 30" stroke="rgba(26, 84, 144, 0.6)"
                                    stroke-width="2" fill="none" />
                                <circle cx="45" cy="60" r="8" fill="#c9a227" opacity="0.9">
                                    <animate attributeName="cy" values="60;75;60" dur="3s" repeatCount="indefinite" />
                                </circle>
                                <circle cx="70" cy="78" r="6" fill="#c9a227" opacity="0.6" />
                                <circle cx="90" cy="82" r="5" fill="#c9a227" opacity="0.4" />
                                <circle cx="105" cy="78" r="4" fill="#c9a227" opacity="0.3" />
                                <line x1="20" y1="120" x2="180" y2="120" stroke="rgba(255,255,255,0.1)"
                                    stroke-width="1" />
                                <line x1="20" y1="20" x2="20" y2="120" stroke="rgba(255,255,255,0.1)"
                                    stroke-width="1" />
                                <path d="M45 68 L60 80" stroke="#c9a227" stroke-width="2" />
                            </svg>
                        </div>
                        <div class="lesson-content">
                            <h4>Descenso de Gradiente</h4>
                            <p>Cómo una pelota bajando una colina nos enseña a optimizar funciones.</p>
                            <div class="lesson-meta">
                                <span class="lesson-meta-tag">Fundamentos</span>
                                <span class="lesson-meta-tag">15 min</span>
                            </div>
                        </div>
                    </a>

                    <a href="#" class="lesson-card reveal reveal-delay-3">
                        <div class="lesson-preview" aria-hidden="true">
                            <svg viewBox="0 0 200 140" fill="none">
                                <circle cx="30" cy="45" r="10" stroke="rgba(26, 84, 144, 0.8)" stroke-width="1.5"
                                    fill="none" />
                                <circle cx="30" cy="95" r="10" stroke="rgba(26, 84, 144, 0.8)" stroke-width="1.5"
                                    fill="none" />
                                <circle cx="100" cy="70" r="12" stroke="rgba(26, 84, 144, 0.8)" stroke-width="1.5"
                                    fill="none" />
                                <circle cx="170" cy="70" r="10" stroke="#c9a227" stroke-width="2"
                                    fill="rgba(201, 162, 39, 0.1)" />
                                <line x1="40" y1="45" x2="88" y2="65" stroke="rgba(26, 84, 144, 0.5)"
                                    stroke-width="1" />
                                <line x1="40" y1="95" x2="88" y2="75" stroke="rgba(26, 84, 144, 0.5)"
                                    stroke-width="1" />
                                <line x1="112" y1="70" x2="160" y2="70" stroke="rgba(26, 84, 144, 0.5)"
                                    stroke-width="1" />
                                <line x1="158" y1="65" x2="115" y2="65" stroke="#c9a227" stroke-width="2"
                                    stroke-dasharray="4 3">
                                    <animate attributeName="stroke-dashoffset" values="0;-14" dur="1s"
                                        repeatCount="indefinite" />
                                </line>
                                <line x1="90" y1="62" x2="42" y2="42" stroke="#c9a227" stroke-width="1.5"
                                    stroke-dasharray="4 3">
                                    <animate attributeName="stroke-dashoffset" values="0;-14" dur="1s"
                                        repeatCount="indefinite" />
                                </line>
                                <line x1="90" y1="78" x2="42" y2="92" stroke="#c9a227" stroke-width="1.5"
                                    stroke-dasharray="4 3">
                                    <animate attributeName="stroke-dashoffset" values="0;-14" dur="1s"
                                        repeatCount="indefinite" />
                                </line>
                                <text x="100" y="73" text-anchor="middle" font-family="IBM Plex Mono" font-size="8"
                                    fill="rgba(255,255,255,0.6)">∂L/∂w</text>
                            </svg>
                        </div>
                        <div class="lesson-content">
                            <h4>Backpropagation Desmitificado</h4>
                            <p>La regla de la cadena aplicada. Sin magia, solo cálculo diferencial.</p>
                            <div class="lesson-meta">
                                <span class="lesson-meta-tag">Redes Neuronales</span>
                                <span class="lesson-meta-tag">25 min</span>
                            </div>
                        </div>
                    </a>

                    <a href="#" class="lesson-card reveal reveal-delay-4">
                        <div class="lesson-preview" aria-hidden="true">
                            <svg viewBox="0 0 200 140" fill="none">
                                <rect x="20" y="35" width="35" height="70" rx="2" stroke="rgba(26, 84, 144, 0.6)"
                                    stroke-width="1.5" fill="none" />
                                <rect x="82" y="35" width="35" height="70" rx="2" stroke="rgba(26, 84, 144, 0.6)"
                                    stroke-width="1.5" fill="none" />
                                <rect x="145" y="35" width="35" height="70" rx="2" stroke="#c9a227" stroke-width="2"
                                    fill="rgba(201, 162, 39, 0.1)" />
                                <line x1="55" y1="50" x2="82" y2="50" stroke="#c9a227" stroke-width="3" opacity="0.9" />
                                <line x1="55" y1="70" x2="82" y2="70" stroke="#c9a227" stroke-width="1.5"
                                    opacity="0.5" />
                                <line x1="55" y1="90" x2="82" y2="90" stroke="#c9a227" stroke-width="0.5"
                                    opacity="0.2" />
                                <line x1="117" y1="70" x2="145" y2="70" stroke="#c9a227" stroke-width="2" />
                                <text x="37" y="25" text-anchor="middle" font-family="IBM Plex Mono" font-size="9"
                                    fill="rgba(255,255,255,0.5)">Q</text>
                                <text x="100" y="25" text-anchor="middle" font-family="IBM Plex Mono" font-size="9"
                                    fill="rgba(255,255,255,0.5)">K·V</text>
                                <text x="162" y="25" text-anchor="middle" font-family="IBM Plex Mono" font-size="9"
                                    fill="#c9a227">Attn</text>
                            </svg>
                        </div>
                        <div class="lesson-content">
                            <h4>Atención: El Mecanismo Clave</h4>
                            <p>Query, Key, Value: entendiendo los Transformers desde cero.</p>
                            <div class="lesson-meta">
                                <span class="lesson-meta-tag">Transformers</span>
                                <span class="lesson-meta-tag">30 min</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Founder Section -->
        <section class="founder" id="founder" aria-labelledby="founder-title">
            <div class="container">
                <div class="founder-grid">
                    <div class="founder-image reveal">
                        <div class="founder-photo">
                            <span class="founder-placeholder" aria-hidden="true">Θ</span>
                        </div>
                    </div>
                    <div class="founder-text">
                        <div class="section-label">
                            <span class="label">Fundador</span>
                        </div>
                        <h2 class="section-title reveal reveal-delay-1" id="founder-title">Sobre el Fundador</h2>
                        <div class="founder-titles reveal reveal-delay-2">
                            <span class="founder-title-item">Ingeniero</span>
                            <span class="founder-title-item">Matemático</span>
                            <span class="founder-title-item">Escéptico Racional</span>
                        </div>
                        <p class="reveal reveal-delay-3">
                            ThaleOn nace de la intersección entre la filosofía clásica y la ingeniería moderna. Como
                            ingeniero en IA y matemático, mi misión es devolver la <em>prudencia</em> al desarrollo
                            tecnológico.
                        </p>
                        <blockquote class="founder-quote reveal reveal-delay-4">
                            "En un mundo donde todos prometen revoluciones, nosotros prometemos evolución: paso a paso,
                            demostrable, verificable."
                        </blockquote>
                        <p class="reveal reveal-delay-5">
                            Tras años trabajando en visión por computador, sistemas de optimización y modelos de machine
                            learning en entornos industriales reales, fundé ThaleOn para ofrecer algo diferente: IA que
                            puedes entender, auditar y confiar.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" id="contact" role="contentinfo">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <h3>ThaleOn AI Systems</h3>
                    <p>Inteligencia Artificial construida sobre los cimientos de la razón. No vendemos el futuro, lo
                        construimos—ecuación por ecuación.</p>
                    <div class="footer-social">
                        <a href="https://github.com/thaleon" aria-label="GitHub" target="_blank"
                            rel="noopener noreferrer">
                            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z" />
                            </svg>
                        </a>
                        <a href="https://linkedin.com/company/thaleon" aria-label="LinkedIn" target="_blank"
                            rel="noopener noreferrer">
                            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                            </svg>
                        </a>
                        <a href="https://x.com/thaleon" aria-label="X (Twitter)" target="_blank"
                            rel="noopener noreferrer">
                            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Navegación</h4>
                    <ul>
                        <li><a href="#manifest">Manifiesto</a></li>
                        <li><a href="#services">Servicios</a></li>
                        <li><a href="#academy">Academia</a></li>
                        <li><a href="#founder">Fundador</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Servicios</h4>
                    <ul>
                        <li><a href="#">Optimización</a></li>
                        <li><a href="#">Machine Learning</a></li>
                        <li><a href="#">Consultoría</a></li>
                        <li><a href="#">Formación</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contacto</h4>
                    <ul>
                        <li><a href="mailto:hello@thaleon.ai">hello@thaleon.ai</a></li>
                        <li><a href="#">Agendar consulta</a></li>
                        <li><a href="#">Privacidad</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">© 2025 ThaleOn AI Systems LLC. Todos los derechos reservados.</p>
                <p class="footer-tagline" lang="en">Engineering Prudence.</p>
            </div>
        </div>
    </footer>

    <!-- Visually Hidden utility class -->
    <style>
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>

    <script>
        // ============================================
        // UTILITY FUNCTIONS
        // ============================================

        /**
         * Debounce function to limit execution frequency
         * @param {Function} fn - Function to debounce
         * @param {number} ms - Milliseconds to wait
         * @returns {Function} Debounced function
         */
        function debounce(fn, ms = 150) {
            let timer;
            return function (...args) {
                clearTimeout(timer);
                timer = setTimeout(() => fn.apply(this, args), ms);
            };
        }

        /**
         * Check if user prefers reduced motion
         * @returns {boolean}
         */
        function prefersReducedMotion() {
            return window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        }

        // ============================================
        // LOADER
        // ============================================
        const loader = document.getElementById('loader');

        function hideLoader() {
            if (loader && !loader.classList.contains('hidden')) {
                loader.classList.add('hidden');
                // Remove from DOM after animation completes
                setTimeout(() => {
                    loader.setAttribute('aria-hidden', 'true');
                }, 800);
            }
        }

        // Primary: hide after load event + delay
        window.addEventListener('load', () => {
            setTimeout(hideLoader, 1500);
        });

        // Fallback: safety timeout in case load never fires (e.g., broken image)
        setTimeout(hideLoader, 8000);

        // ============================================
        // NAVIGATION
        // ============================================
        const nav = document.getElementById('nav');
        const mobileBtn = document.getElementById('mobileBtn');
        const mobileMenu = document.getElementById('mobileMenu');

        // Scroll behavior for nav
        let lastScrollY = 0;
        const handleNavScroll = debounce(() => {
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
            lastScrollY = window.scrollY;
        }, 10);

        window.addEventListener('scroll', handleNavScroll, { passive: true });

        // Mobile menu toggle
        function toggleMobileMenu(forceClose = false) {
            const isOpen = mobileMenu.getAttribute('aria-hidden') === 'false';
            const shouldClose = forceClose || isOpen;

            mobileMenu.setAttribute('aria-hidden', shouldClose ? 'true' : 'false');
            mobileBtn.setAttribute('aria-expanded', shouldClose ? 'false' : 'true');
            mobileBtn.setAttribute('aria-label', shouldClose ? 'Abrir menú de navegación' : 'Cerrar menú de navegación');

            // Prevent body scroll when menu is open
            document.body.style.overflow = shouldClose ? '' : 'hidden';
        }

        mobileBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleMobileMenu();
        });

        // Close menu when clicking links
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => toggleMobileMenu(true));
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (mobileMenu.getAttribute('aria-hidden') === 'false' &&
                !mobileMenu.contains(e.target) &&
                !mobileBtn.contains(e.target)) {
                toggleMobileMenu(true);
            }
        });

        // Close menu on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileMenu.getAttribute('aria-hidden') === 'false') {
                toggleMobileMenu(true);
                mobileBtn.focus();
            }
        });

        // ============================================
        // HERO CANVAS - Floating Formulas Network (Enhanced)
        // ============================================
        (function initFormulasBg() {
            const canvas = document.getElementById('heroCanvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            let formulas = [];
            let mouse = { x: null, y: null };
            let canvasAnimationId = null;
            let isCanvasVisible = true;

            // Extended mathematical formulas collection
            const formulaTexts = [
                // Cálculo y optimización
                '∇f(x)', '∂L/∂w', '∫f(x)dx', 'lim x→∞', 'Σᵢ xᵢ', 'Πᵢ pᵢ', 'dx/dt', '∇²f',
                // Machine Learning
                'σ(z)', 'W·x + b', 'softmax', 'ReLU(x)', 'tanh(x)', 'P(y|x)', 'argmax', 'L(θ)',
                // Estadística
                'E[X]', 'Var(X)', 'μ ± σ', 'N(0,1)', 'p(x|θ)', 'H(X)', 'KL(p||q)',
                // Álgebra lineal
                'Aᵀ', 'A⁻¹', 'det(A)', 'λᵢ', 'tr(A)', 'rank(A)', '‖x‖₂', 'x·y',
                // Transformers/DL
                'Attention', 'Q·Kᵀ/√d', 'LayerNorm', 'Dropout', 'BatchNorm',
                // Símbolos elegantes
                'α β γ', 'θ', 'φ(x)', 'ψ(t)', 'ε → 0', '∀x ∈ ℝ', '∃ε > 0'
            ];

            // Configuration
            const config = {
                connectionDistance: 200,
                mouseRepelDistance: 150,
                mouseRepelStrength: 0.02,
                baseSpeed: 0.4,
                baseFontSize: 14,
                fontSizeVariation: 4,
                connectionOpacityMultiplier: 1.2,
                connectionLineWidth: 1.5
            };

            function resizeCanvas() {
                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * dpr;
                canvas.height = rect.height * dpr;
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
                initFormulas(rect.width, rect.height);
            }

            function initFormulas(width, height) {
                formulas = [];
                const area = width * height;
                const count = Math.min(Math.max(Math.floor(area / 25000), 12), 35);
                const shuffled = [...formulaTexts].sort(() => Math.random() - 0.5);

                for (let i = 0; i < count; i++) {
                    const text = shuffled[i % shuffled.length];
                    const fontSize = config.baseFontSize + Math.random() * config.fontSizeVariation;
                    const isSerif = Math.random() > 0.3;

                    formulas.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        vx: (Math.random() - 0.5) * config.baseSpeed,
                        vy: (Math.random() - 0.5) * config.baseSpeed,
                        text: text,
                        fontSize: fontSize,
                        opacity: 0,
                        targetOpacity: 0.25 + Math.random() * 0.35,
                        fadeStart: Date.now() + Math.random() * 2000,
                        font: isSerif
                            ? `${fontSize}px "Cormorant Garamond", Georgia, serif`
                            : `${fontSize * 0.85}px "IBM Plex Mono", monospace`,
                        rotation: (Math.random() - 0.5) * 0.1,
                        hue: Math.random() > 0.7 ? 'gold' : 'blue'
                    });
                }
            }

            function drawFormulasNetwork() {
                if (document.hidden || !isCanvasVisible || prefersReducedMotion()) {
                    canvasAnimationId = requestAnimationFrame(drawFormulasNetwork);
                    return;
                }

                const rect = canvas.getBoundingClientRect();
                const width = rect.width;
                const height = rect.height;
                const now = Date.now();

                ctx.clearRect(0, 0, width, height);

                // Update opacities (fade in effect)
                formulas.forEach(f => {
                    if (now > f.fadeStart && f.opacity < f.targetOpacity) {
                        f.opacity = Math.min(f.opacity + 0.008, f.targetOpacity);
                    }
                });

                // Draw connections with gradient
                ctx.lineCap = 'round';
                for (let i = 0; i < formulas.length; i++) {
                    for (let j = i + 1; j < formulas.length; j++) {
                        const f1 = formulas[i];
                        const f2 = formulas[j];
                        const dx = f1.x - f2.x;
                        const dy = f1.y - f2.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < config.connectionDistance) {
                            const opacity = (1 - distance / config.connectionDistance) *
                                Math.min(f1.opacity, f2.opacity) * config.connectionOpacityMultiplier;

                            const gradient = ctx.createLinearGradient(f1.x, f1.y, f2.x, f2.y);
                            const color1 = f1.hue === 'gold'
                                ? `rgba(201, 162, 39, ${opacity})`
                                : `rgba(45, 125, 210, ${opacity})`;
                            const color2 = f2.hue === 'gold'
                                ? `rgba(201, 162, 39, ${opacity})`
                                : `rgba(45, 125, 210, ${opacity})`;

                            gradient.addColorStop(0, color1);
                            gradient.addColorStop(1, color2);

                            ctx.beginPath();
                            ctx.moveTo(f1.x, f1.y);
                            ctx.lineTo(f2.x, f2.y);
                            ctx.strokeStyle = gradient;
                            ctx.lineWidth = config.connectionLineWidth;
                            ctx.stroke();
                        }
                    }
                }

                // Draw formulas
                formulas.forEach(f => {
                    if (f.opacity < 0.01) return;

                    ctx.save();
                    ctx.translate(f.x, f.y);
                    ctx.rotate(f.rotation);

                    const color = f.hue === 'gold'
                        ? `rgba(201, 162, 39, ${f.opacity})`
                        : `rgba(120, 160, 200, ${f.opacity * 0.9})`;

                    ctx.font = f.font;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = color;

                    // Subtle shadow for depth
                    ctx.shadowColor = f.hue === 'gold'
                        ? 'rgba(201, 162, 39, 0.2)'
                        : 'rgba(26, 84, 144, 0.2)';
                    ctx.shadowBlur = 8;

                    ctx.fillText(f.text, 0, 0);
                    ctx.restore();

                    // Mouse repulsion
                    if (mouse.x !== null && mouse.y !== null) {
                        const dx = mouse.x - f.x;
                        const dy = mouse.y - f.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < config.mouseRepelDistance && distance > 0) {
                            const force = (config.mouseRepelDistance - distance) / config.mouseRepelDistance;
                            f.x -= dx * force * config.mouseRepelStrength;
                            f.y -= dy * force * config.mouseRepelStrength;
                        }
                    }

                    // Movement
                    f.x += f.vx;
                    f.y += f.vy;

                    // Bounce off edges
                    const margin = 50;
                    if (f.x < margin) { f.x = margin; f.vx *= -1; }
                    if (f.x > width - margin) { f.x = width - margin; f.vx *= -1; }
                    if (f.y < margin) { f.y = margin; f.vy *= -1; }
                    if (f.y > height - margin) { f.y = height - margin; f.vy *= -1; }
                });

                canvasAnimationId = requestAnimationFrame(drawFormulasNetwork);
            }

            // Mouse events
            canvas.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });

            canvas.addEventListener('mouseleave', () => {
                mouse.x = null;
                mouse.y = null;
            });

            // Touch support
            canvas.addEventListener('touchmove', (e) => {
                if (e.touches.length > 0) {
                    const rect = canvas.getBoundingClientRect();
                    mouse.x = e.touches[0].clientX - rect.left;
                    mouse.y = e.touches[0].clientY - rect.top;
                }
            }, { passive: true });

            canvas.addEventListener('touchend', () => {
                mouse.x = null;
                mouse.y = null;
            });

            // Visibility observer
            const heroSection = document.getElementById('hero');
            const heroObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    isCanvasVisible = entry.isIntersecting;
                });
            }, { threshold: 0.1 });
            heroObserver.observe(heroSection);

            // Visibility API
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden && !canvasAnimationId) {
                    drawFormulasNetwork();
                }
            });

            // Initialize
            window.addEventListener('resize', debounce(resizeCanvas, 200));
            resizeCanvas();

            if (!prefersReducedMotion()) {
                drawFormulasNetwork();
            }
        })();

        // ============================================
        // SCROLL REVEAL
        // ============================================
        const revealElements = document.querySelectorAll('.reveal');

        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    // Optionally unobserve after revealing (one-time animation)
                    // revealObserver.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '0px 0px -80px 0px'
        });

        revealElements.forEach(el => revealObserver.observe(el));

        // ============================================
        // SMOOTH SCROLL
        // ============================================
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const targetId = this.getAttribute('href');

                // Skip if it's just "#"
                if (targetId === '#') return;

                const target = document.querySelector(targetId);
                if (target) {
                    e.preventDefault();

                    const headerOffset = 80;
                    const elementPosition = target.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                    // Check for native smooth scroll support
                    if ('scrollBehavior' in document.documentElement.style && !prefersReducedMotion()) {
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    } else {
                        // Fallback for older browsers or reduced motion
                        window.scrollTo(0, offsetPosition);
                    }

                    // Update URL without triggering scroll
                    history.pushState(null, null, targetId);

                    // Move focus to target for accessibility
                    target.setAttribute('tabindex', '-1');
                    target.focus({ preventScroll: true });
                }
            });
        });

        // ============================================
        // THALES' SECOND THEOREM ANIMATION
        // Static, user-interactive only with full circle and Theta watermark
        // ============================================
        (function initThalesHero() {
            const canvas = document.getElementById('thalesHeroCanvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');

            // State - starts at center (90 degrees = π/2)
            let center = { x: 0, y: 0 };
            let radius = 0;
            let pointA = { x: 0, y: 0 };
            let pointB = { x: 0, y: 0 };
            let pointC = { x: 0, y: 0 };
            let angleC = Math.PI / 2; // Center position (top of semicircle)
            let isDragging = false;

            function resize() {
                const container = canvas.parentElement;
                const size = container.offsetWidth;
                if (size <= 0) return;

                const dpr = window.devicePixelRatio || 1;
                canvas.width = size * dpr;
                canvas.height = size * dpr;
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

                center = { x: size / 2, y: size / 2 };
                radius = size * 0.38;
                updatePoints();
                draw();
            }

            function updatePoints() {
                pointA = { x: center.x - radius, y: center.y };
                pointB = { x: center.x + radius, y: center.y };
                pointC = { x: center.x + radius * Math.cos(angleC), y: center.y - radius * Math.sin(angleC) };
            }

            function draw() {
                const size = canvas.width / (window.devicePixelRatio || 1);
                ctx.clearRect(0, 0, size, size);

                // Theta watermark (Θ) - background symbol
                ctx.font = `300 ${radius * 1.1}px "Cormorant Garamond", Georgia, serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = 'rgba(201, 162, 39, 0.06)';
                ctx.fillText('Θ', center.x, center.y);

                // Full circle (subtle fill)
                ctx.beginPath();
                ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(26, 84, 144, 0.03)';
                ctx.fill();
                ctx.strokeStyle = 'rgba(26, 84, 144, 0.25)';
                ctx.lineWidth = 1;
                ctx.stroke();

                // Semicircle highlight (upper semicircle emphasized)
                ctx.beginPath();
                ctx.arc(center.x, center.y, radius, Math.PI, 0);
                ctx.strokeStyle = '#1a5490';
                ctx.lineWidth = 2.5;
                ctx.stroke();

                // Diameter (dashed line AB)
                ctx.beginPath();
                ctx.moveTo(pointA.x, pointA.y);
                ctx.lineTo(pointB.x, pointB.y);
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.lineWidth = 1.5;
                ctx.setLineDash([6, 6]);
                ctx.stroke();
                ctx.setLineDash([]);

                // Triangle ACB (with subtle fill)
                ctx.beginPath();
                ctx.moveTo(pointA.x, pointA.y);
                ctx.lineTo(pointC.x, pointC.y);
                ctx.lineTo(pointB.x, pointB.y);
                ctx.closePath();
                ctx.fillStyle = 'rgba(201, 162, 39, 0.05)';
                ctx.fill();
                ctx.strokeStyle = '#c9a227';
                ctx.lineWidth = 2;
                ctx.stroke();

                // Right angle indicator at C (green)
                const iSize = 14;
                const CA = { x: pointA.x - pointC.x, y: pointA.y - pointC.y };
                const CB = { x: pointB.x - pointC.x, y: pointB.y - pointC.y };
                const magCA = Math.sqrt(CA.x ** 2 + CA.y ** 2);
                const magCB = Math.sqrt(CB.x ** 2 + CB.y ** 2);
                const uCA = { x: CA.x / magCA, y: CA.y / magCA };
                const uCB = { x: CB.x / magCB, y: CB.y / magCB };

                const p1 = { x: pointC.x + uCA.x * iSize, y: pointC.y + uCA.y * iSize };
                const p2 = { x: pointC.x + uCB.x * iSize, y: pointC.y + uCB.y * iSize };
                const corner = { x: pointC.x + (uCA.x + uCB.x) * iSize, y: pointC.y + (uCA.y + uCB.y) * iSize };

                ctx.beginPath();
                ctx.moveTo(p1.x, p1.y);
                ctx.lineTo(corner.x, corner.y);
                ctx.lineTo(p2.x, p2.y);
                ctx.strokeStyle = '#22c55e';
                ctx.lineWidth = 2;
                ctx.stroke();

                // Points A and B
                ctx.beginPath();
                ctx.arc(pointA.x, pointA.y, 5, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
                ctx.fill();

                ctx.beginPath();
                ctx.arc(pointB.x, pointB.y, 5, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
                ctx.fill();

                // Point C with glow effect
                ctx.beginPath();
                ctx.arc(pointC.x, pointC.y, 12, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(201, 162, 39, 0.15)';
                ctx.fill();
                ctx.beginPath();
                ctx.arc(pointC.x, pointC.y, 7, 0, Math.PI * 2);
                ctx.fillStyle = '#c9a227';
                ctx.fill();

                // Center dot
                ctx.beginPath();
                ctx.arc(center.x, center.y, 3, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.15)';
                ctx.fill();

                // Labels (A, B, C)
                ctx.font = '600 12px "IBM Plex Mono", monospace';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';
                ctx.fillText('A', pointA.x - 16, pointA.y + 16);
                ctx.fillText('B', pointB.x + 16, pointB.y + 16);
                ctx.fillStyle = '#c9a227';
                ctx.fillText('C', pointC.x + 18 * Math.cos(angleC), pointC.y - 18 * Math.sin(angleC));
            }

            // Event handlers - user interaction only
            function getPos(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
                const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
                return { x, y };
            }

            function nearC(pos) {
                return Math.sqrt((pos.x - pointC.x) ** 2 + (pos.y - pointC.y) ** 2) < 35;
            }

            function startDrag(e) {
                if (nearC(getPos(e))) {
                    isDragging = true;
                    canvas.style.cursor = 'grabbing';
                    if (e.cancelable) e.preventDefault();
                }
            }

            function moveDrag(e) {
                const pos = getPos(e);
                if (isDragging) {
                    let angle = Math.atan2(-(pos.y - center.y), pos.x - center.x);
                    // Clamp to upper semicircle
                    angle = Math.max(0.1, Math.min(Math.PI - 0.1, angle));
                    angleC = angle;
                    updatePoints();
                    draw();
                    if (e.cancelable) e.preventDefault();
                } else {
                    canvas.style.cursor = nearC(pos) ? 'grab' : 'default';
                }
            }

            function endDrag() {
                isDragging = false;
                canvas.style.cursor = 'default';
            }

            // Mouse events
            canvas.addEventListener('mousedown', startDrag);
            canvas.addEventListener('mousemove', moveDrag);
            canvas.addEventListener('mouseup', endDrag);
            canvas.addEventListener('mouseleave', endDrag);

            // Touch events
            canvas.addEventListener('touchstart', startDrag, { passive: false });
            canvas.addEventListener('touchmove', moveDrag, { passive: false });
            canvas.addEventListener('touchend', endDrag);

            // Init
            resize();
            window.addEventListener('resize', debounce(resize, 150));
        })();

        // ============================================
        // CLEANUP ON PAGE UNLOAD
        // ============================================
        window.addEventListener('beforeunload', () => {
            if (canvasAnimationId) {
                cancelAnimationFrame(canvasAnimationId);
            }
            if (thalesAnimationId) {
                cancelAnimationFrame(thalesAnimationId);
            }
        });
    </script>
</body>

</html>